(function(){var t,o,n;n=function(){function t(){return["pouchdb"]}return t}(),angular.module("teste-daniel",new n),t=function(){function t(t,o){this.TodoModel=o,this.remoteCouch="http://192.168.25.8:5984/todos",this.db=t(this.remoteCouch),this.sync()}return t.prototype.todos={},t.prototype.sync=function(){var t;return this.updateTodos(),t={live:!0},this.db.replicate.to(this.remoteCouch,t).on("change",function(t){return function(){return t.updateTodos()}}(this)),this.db.replicate.from(this.remoteCouch,t).on("change",function(t){return function(){return t.updateTodos()}}(this))},t.prototype.updateTodos=function(){var t;return t={include_docs:!0,descending:!0},this.db.allDocs(t).then(function(t){return function(o){return t.todos=o.rows}}(this))},t.prototype.insert=function(t){var o;return o=this.db.post(t),o.then(function(){return function(){return console.log("Doc incluido com sucesso")}}(this)),o["catch"](function(){return function(t){return console.log("Erro ao salvar doc",t)}}(this))},t.prototype.removeTodo=function(t){return this.db.remove(t)},t.prototype.update=function(t){return this.doc=t?t:this.doc,this.db.put(t)["catch"](function(t){return 409!==t.status?this.update():void 0})},t}(),angular.module("teste-daniel").service("todoService",["pouchDB","TodoModel",t]),o=function(){function t(){return function(){function t(){this.title="",this.completed=!1,this.user="user1"}return t}()}return t}(),angular.module("teste-daniel").factory("TodoModel",[o])}).call(this);